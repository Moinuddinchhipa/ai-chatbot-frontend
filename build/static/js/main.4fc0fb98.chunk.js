(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{13:function(e,t,s){},15:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s(4),n=s.n(a),r=(s(13),s(0));var o=function(){const[e,t]=Object(c.useState)(""),[s,a]=Object(c.useState)([]),[n,o]=Object(c.useState)("User");Object(c.useEffect)((()=>{const e=localStorage.getItem("chatUser");e?o(e):(o("User"),localStorage.setItem("chatUser","User")),fetch("http://localhost:8000/history").then((e=>e.json())).then((e=>a(e))).catch((e=>console.error("Failed to fetch chat history:",e)))}),[]);const h=async()=>{if(!e.trim())return;const c={sender:"user",text:e};a([...s,c]),t("");try{const t=await fetch("http://localhost:8000/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,user:n})}),s={sender:"bot",text:(await t.json()).reply};a((e=>[...e,s]))}catch(r){console.error("Error talking to chatbot:",r)}};return Object(r.jsxs)("div",{className:"chat-container",children:[Object(r.jsx)("h2",{children:"Welcome to the AI Chatbot"}),Object(r.jsx)("div",{className:"chat-box",children:s.map(((e,t)=>Object(r.jsxs)("div",{className:`chat-message ${e.sender}`,children:[Object(r.jsx)("div",{className:"chat-sender",children:Object(r.jsx)("strong",{children:"user"===e.sender?n:"Bot"})}),Object(r.jsx)("div",{className:"chat-text",children:e.text})]},t)))}),Object(r.jsxs)("div",{className:"chat-input-area",children:[Object(r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"chat-input",onKeyPress:e=>{"Enter"===e.key&&h()},placeholder:"Type your message..."}),Object(r.jsxs)("div",{className:"button-group",children:[Object(r.jsx)("button",{className:"send-button",onClick:h,children:"Send"}),Object(r.jsx)("button",{className:"clear-button",onClick:async()=>{await fetch("http://localhost:8000/clear",{method:"DELETE"}),a([])},children:"Clear Chat"})]})]})]})};n.a.createRoot(document.getElementById("root")).render(Object(r.jsx)(o,{}))}},[[15,1,2]]]);
//# sourceMappingURL=main.4fc0fb98.chunk.js.map